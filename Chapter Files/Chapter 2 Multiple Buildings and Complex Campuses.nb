(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='WolframDesktop 12.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       161,          7]
NotebookDataLength[     32328,        715]
NotebookOptionsPosition[     28964,        650]
NotebookOutlinePosition[     29307,        665]
CellTagsIndexPosition[     29264,        662]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Chapter 2: Multiple Buildings and Complex Campuses", "Chapter",
 CellChangeTimes->{{3.788436778652193*^9, 3.7884368369029284`*^9}, {
  3.7884380185098915`*^9, 
  3.7884380226424894`*^9}},ExpressionUUID->"e009d0d6-f6d9-41cc-9fad-\
c8a5be675b08"],

Cell[CellGroupData[{

Cell["Overview", "Subsection",
 CellChangeTimes->{{3.788436832408099*^9, 3.788436846573325*^9}, {
  3.7884389863432474`*^9, 
  3.788438990369706*^9}},ExpressionUUID->"9d4c3d46-3775-49c5-87e2-\
1c9d334b1040"],

Cell["\<\
In the first chapter we built a simple application to track the energy \
consumption of a single building using multiple fuel sources.  This is the \
obvious place to start, and it will work for many schools.  Of course, many \
schools have several buildings, and you may find that not every building has \
its own meter.  You may also find meters on campus that \
don\[CloseCurlyQuote]t measure the consumption of a building.  For instance, \
I happen to live on a boarding school campus.  On that campus there are many \
buildings with their own meters, one building with two meters, and in the \
center of campus there is a single large transformer with a meter that serves \
several large academic buildings that do not have individual meters.  There \
are also meters not on buildings, but on  water pumps and parking lot lights. \
 There is similar complexity with regard to heating fuel, where there is a \
central plant that burns wood chips to heat much of the campus, but a number \
of buildings use fuel oil or propane\
\>", "Text",
 CellChangeTimes->{{3.7884389957735524`*^9, 3.7884390407383285`*^9}, {
  3.7884392357398605`*^9, 3.788439398355132*^9}, {3.78843951519209*^9, 
  3.7884397201237354`*^9}, {3.7884457699312925`*^9, 3.7884458957821445`*^9}, {
  3.7884716393631296`*^9, 
  3.788471674270425*^9}},ExpressionUUID->"8e495ca1-a3e6-4ef9-b1fb-\
8c1374ddffb9"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Defining our Data Model", "Section",
 CellChangeTimes->{{3.7762008197799683`*^9, 3.776200823450311*^9}, 
   3.78843803691226*^9, {3.788447127214841*^9, 
   3.788447138452957*^9}},ExpressionUUID->"be52c3e1-a212-4943-af0e-\
b068bde4daaf"],

Cell["\<\
Since our application needs to work for school campuses with this kind of \
complexity we need to step back, and put some thought into how we want to \
represent the world within the application.  We need to define our data model.\
\>", "Text",
 CellChangeTimes->{{3.788446236854744*^9, 3.788446343174817*^9}, {
  3.7884464252420797`*^9, 3.7884464659025*^9}, {3.7884471744740615`*^9, 
  3.78844719602549*^9}},ExpressionUUID->"4fa2f2f6-96d1-493b-97d8-\
6541d3a0b68b"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"TextSentences", "[", 
   RowBox[{"WikipediaData", "[", "\"\<data model\>\"", "]"}], "]"}], "[", 
  RowBox[{"[", 
   RowBox[{";;", "5"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.7884390927483387`*^9, 3.788439097139758*^9}},
 CellLabel->"In[1]:=",ExpressionUUID->"f62ca71a-716b-4e70-9035-71130f058ded"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"A data model (or datamodel) is an abstract model that \
organizes elements of data and standardizes how they relate to one another \
and to the properties of real-world entities.\"\>", 
   ",", "\<\"For instance, a data model may specify that the data element \
representing a car be composed of a number of other elements which, in turn, \
represent the color and size of the car and define its owner.\"\>", 
   ",", "\<\"The term data model can refer to two distinct but closely \
related concepts.\"\>", 
   ",", "\<\"Sometimes it refers to an abstract formalization of the objects \
and relationships found in a particular application domain: for example the \
customers, products, and orders found in a manufacturing organization.\"\>", 
   ",", "\<\"At other times it refers to the set of concepts used in defining \
such formalizations: for example concepts such as entities, attributes, \
relations, or tables.\"\>"}], "}"}]], "Output",
 CellChangeTimes->{3.788439114231676*^9},
 CellLabel->"Out[1]=",ExpressionUUID->"fcd3e4b0-a803-4239-affe-2501ed039d34"]
}, Open  ]],

Cell["\<\
To define our data model we need to ask what objects does our application \
need to represent, what are the attributes of those objects that we need to \
represent, and how are those objects related to each other.  Of particular \
interest for this application is the question of to which object within the \
application we will associate energy consumption values.  \
\>", "Text",
 CellChangeTimes->{{3.788446510459679*^9, 3.7884465707621984`*^9}, {
  3.788446990997261*^9, 3.7884470674960318`*^9}, {3.788447112294965*^9, 
  3.7884471131105194`*^9}, {3.7884472266470633`*^9, 
  3.788447332798422*^9}},ExpressionUUID->"b5a5a1ea-ebea-4df5-8f85-\
d749c98c6093"],

Cell["\<\
I like to use the Wolfram Language\[CloseCurlyQuote]s Graph functionality to \
visualize objects and how they are related.  \
\>", "Text",
 CellChangeTimes->{{3.78844836884133*^9, 3.7884483900062146`*^9}, {
  3.7884484425780277`*^9, 3.7884484596879497`*^9}, {3.788448948749*^9, 
  3.7884489946753163`*^9}},ExpressionUUID->"79f1cb2b-ffab-474d-8f6e-\
bb34f6d3343e"],

Cell[BoxData[
 RowBox[{"academicBuilding", "="}]], "Input",
 CellChangeTimes->{{3.788472956741399*^9, 3.7884729640499563`*^9}, {
  3.7884735768615665`*^9, 
  3.788473584247241*^9}},ExpressionUUID->"8985d1e9-58b2-46db-8384-\
d260ab45f983"],

Cell[BoxData[
 RowBox[{"transformer", "="}]], "Input",
 CellChangeTimes->{{3.788482204454071*^9, 
  3.788482208845953*^9}},ExpressionUUID->"d8fa50a6-89ff-4fb6-8106-\
7dec39f468b1"],

Cell[BoxData[
 RowBox[{"meter", "="}]], "Input",
 CellChangeTimes->{{3.788484062809788*^9, 3.7884840653299494`*^9}},
 EmphasizeSyntaxErrors->True,
 CellLabel->"In[2]:=",ExpressionUUID->"8c350f49-c0fe-4ede-98e3-3b7ae44d9752"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Graph", "[", "\[IndentingNewLine]", 
  RowBox[{"{", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Labeled", "[", 
     RowBox[{
      RowBox[{
      "\"\<Transformer\>\"", "\[Rule]", "\"\<Academic Building 1\>\""}], ",", 
      "\"\<energizes\>\""}], "]"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Labeled", "[", 
     RowBox[{
      RowBox[{
      "\"\<Transformer\>\"", "\[Rule]", "\"\<Academic Building 2\>\""}], ",", 
      "\"\<energizes\>\""}], "]"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Labeled", "[", 
     RowBox[{
      RowBox[{
      "\"\<Biomass Boiler\>\"", "\[Rule]", "\"\<Academic Building 1\>\""}], 
      ",", "\"\<heats\>\""}], "]"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Labeled", "[", 
     RowBox[{
      RowBox[{
      "\"\<Biomass Boiler\>\"", "\[Rule]", "\"\<Academic Building 2\>\""}], 
      ",", "\"\<heats\>\""}], "]"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Labeled", "[", 
     RowBox[{
      RowBox[{"\"\<Meter 1\>\"", "\[Rule]", "\"\<Transformer\>\""}], ",", 
      "\"\<meters\>\""}], "]"}]}], "\n", "}"}], "]"}]], "Input",
 CellChangeTimes->{{3.7884734148634152`*^9, 3.7884734188220673`*^9}, {
   3.788473466817091*^9, 3.788473481070527*^9}, {3.7884735464494476`*^9, 
   3.7884736350646267`*^9}, {3.7884817759584885`*^9, 3.788481794838456*^9}, {
   3.7884818314549227`*^9, 3.7884818618571467`*^9}, {3.7884818993037577`*^9, 
   3.788481906831875*^9}, {3.7884820314390726`*^9, 3.788482078933739*^9}, {
   3.788482386563002*^9, 3.78848244081037*^9}, {3.7884824727362356`*^9, 
   3.788482480662491*^9}, {3.7884825266808176`*^9, 3.788482536876148*^9}, {
   3.7884826046487827`*^9, 3.7884826818621445`*^9}, {3.788482712990629*^9, 
   3.7884827371843767`*^9}, {3.7884827771676483`*^9, 
   3.7884828156060963`*^9}, {3.7884829020248785`*^9, 
   3.7884829490702963`*^9}, {3.788483437985376*^9, 3.788483573288375*^9}, {
   3.78848364537801*^9, 3.7884837236379433`*^9}, {3.7884839639601173`*^9, 
   3.788483965416423*^9}, {3.7884840002007217`*^9, 3.788484056860804*^9}, 
   3.788484187898107*^9, {3.788484353261904*^9, 3.7884843753879004`*^9}, 
   3.788484633949516*^9, 3.788484724327329*^9},
 CellLabel->"In[5]:=",ExpressionUUID->"7e2a500c-a1f5-4446-99c0-045fcaff1f64"],

Cell[BoxData[
 GraphicsBox[
  NamespaceBox["NetworkGraphics",
   DynamicModuleBox[{Typeset`graph = HoldComplete[
     Graph[{
      "Transformer", "Academic Building 1", "Academic Building 2", 
       "Biomass Boiler", "Meter 1"}, {{{1, 2}, {1, 3}, {4, 2}, {4, 3}, {5, 
       1}}, Null}, {
      EdgeLabels -> {
        DirectedEdge["Transformer", "Academic Building 2"] -> "energizes", 
         DirectedEdge["Transformer", "Academic Building 1"] -> "energizes", 
         DirectedEdge["Biomass Boiler", "Academic Building 2"] -> "heats", 
         DirectedEdge["Meter 1", "Transformer"] -> "meters", 
         DirectedEdge["Biomass Boiler", "Academic Building 1"] -> 
         "heats"}}]]}, 
    TagBox[GraphicsGroupBox[{
       {Hue[0.6, 0.7, 0.5], Opacity[0.7], Arrowheads[
        Medium], {ArrowBox[{{0., 1.}, {0., 0.}}, 0.02261146496815286], 
         InsetBox["\<\"energizes\"\>", {0., 0.5}, ImageScaled[{0.5, 0.5}],
          BaseStyle->"Graphics"]}, {
         ArrowBox[{{0., 1.}, {1., 0.}}, 0.02261146496815286], 
         InsetBox["\<\"energizes\"\>", {0.5, 0.5}, ImageScaled[{0.5, 0.5}],
          BaseStyle->"Graphics"]}, {
         ArrowBox[{{1., 1.}, {0., 0.}}, 0.02261146496815286], 
         InsetBox["\<\"heats\"\>", {0.5, 0.5}, ImageScaled[{0.5, 0.5}],
          BaseStyle->"Graphics"]}, {
         ArrowBox[{{1., 1.}, {1., 0.}}, 0.02261146496815286], 
         InsetBox["\<\"heats\"\>", {1., 0.5}, ImageScaled[{0.5, 0.5}],
          BaseStyle->"Graphics"]}, {
         ArrowBox[{{0., 2.}, {0., 1.}}, 0.02261146496815286], 
         InsetBox["\<\"meters\"\>", {0., 1.5}, ImageScaled[{0.5, 0.5}],
          BaseStyle->"Graphics"]}}, 
       {Hue[0.6, 0.2, 0.8], EdgeForm[{GrayLevel[0], Opacity[0.7]}], 
        DiskBox[{0., 1.}, 0.02261146496815286], 
        DiskBox[{0., 0.}, 0.02261146496815286], 
        DiskBox[{1., 0.}, 0.02261146496815286], 
        DiskBox[{1., 1.}, 0.02261146496815286], 
        DiskBox[{0., 2.}, 0.02261146496815286]}}],
     MouseAppearanceTag["NetworkGraphics"]],
    AllowKernelInitialization->False]],
  DefaultBaseStyle->{
   "NetworkGraphics", FrontEnd`GraphicsHighlightColor -> Hue[0.8, 1., 0.6]},
  FormatType->TraditionalForm,
  FrameTicks->None]], "Output",
 CellChangeTimes->{3.7884847317911706`*^9},
 CellLabel->"Out[5]=",ExpressionUUID->"c2a73746-1e90-4daa-a523-07fbf06cf437"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{",", "\n", 
  RowBox[{"VertexCoordinates", "\[Rule]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<Transformer\>\"", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0"}], "}"}]}], ",", 
     RowBox[{"\"\<Academic Building 1\>\"", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{"1", ",", "1"}], "}"}]}], ",", 
     RowBox[{"\"\<Academic Building 2\>\"", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2"}], "}"}]}], ",", 
     RowBox[{"\"\<Meter 1\>\"", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"-", "1"}], ",", "0"}], "}"}]}]}], "}"}]}], ",", "\n", 
  RowBox[{"VertexShape", "\[Rule]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<Transformer\>\"", "\[Rule]", "transformer"}], ",", 
     RowBox[{"\"\<Academic Building 1\>\"", "\[Rule]", "academicBuilding"}], 
     ",", 
     RowBox[{"\"\<Academic Building 2\>\"", "\[Rule]", "academicBuilding"}], 
     ",", 
     RowBox[{"\"\<Meter 1\>\"", "\[Rule]", "meter"}]}], "}"}]}], ",", "\n", 
  RowBox[{"VertexLabels", "\[Rule]", 
   RowBox[{"Placed", "[", 
    RowBox[{"\"\<Name\>\"", ",", "Below"}], "]"}]}], ",", "\n", 
  RowBox[{"VertexSize", "\[Rule]", "0.5"}]}]], "Input",ExpressionUUID->\
"8ec60343-e66d-4752-96f4-ee303227d466"],

Cell[BoxData[
 RowBox[{"Graph", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     TemplateBox[{
      RowBox[{"\"Transformer\"", "\[Rule]", "\"Academic Building 1\""}],
       "\"energizes\""},
      "Labeled",
      DisplayFunction->(GridBox[{{
          TagBox[
           ItemBox[
            PaneBox[
             TagBox[#, "SkipImageSizeLevel"], Alignment -> {Center, Baseline},
              BaselinePosition -> Baseline], DefaultBaseStyle -> "Labeled"], 
           "SkipImageSizeLevel"]}, {
          ItemBox[#2, DefaultBaseStyle -> "LabeledLabel"]}}, 
        GridBoxAlignment -> {"Columns" -> {{Center}}, "Rows" -> {{Center}}}, 
        AutoDelete -> False, 
        GridBoxItemSize -> {
         "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
        BaselinePosition -> {1, 1}]& ),
      InterpretationFunction->(RowBox[{"Labeled", "[", 
         RowBox[{#, ",", #2}], "]"}]& )], ",", 
     TemplateBox[{
      RowBox[{"\"Transformer\"", "\[Rule]", "\"Academic Building 2\""}],
       "\"energizes\""},
      "Labeled",
      DisplayFunction->(GridBox[{{
          TagBox[
           ItemBox[
            PaneBox[
             TagBox[#, "SkipImageSizeLevel"], Alignment -> {Center, Baseline},
              BaselinePosition -> Baseline], DefaultBaseStyle -> "Labeled"], 
           "SkipImageSizeLevel"]}, {
          ItemBox[#2, DefaultBaseStyle -> "LabeledLabel"]}}, 
        GridBoxAlignment -> {"Columns" -> {{Center}}, "Rows" -> {{Center}}}, 
        AutoDelete -> False, 
        GridBoxItemSize -> {
         "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
        BaselinePosition -> {1, 1}]& ),
      InterpretationFunction->(RowBox[{"Labeled", "[", 
         RowBox[{#, ",", #2}], "]"}]& )], ",", 
     TemplateBox[{
      RowBox[{"\"Biomass Boiler\"", "\[Rule]", "\"Academic Building 1\""}],
       "\"heats\""},
      "Labeled",
      DisplayFunction->(GridBox[{{
          TagBox[
           ItemBox[
            PaneBox[
             TagBox[#, "SkipImageSizeLevel"], Alignment -> {Center, Baseline},
              BaselinePosition -> Baseline], DefaultBaseStyle -> "Labeled"], 
           "SkipImageSizeLevel"]}, {
          ItemBox[#2, DefaultBaseStyle -> "LabeledLabel"]}}, 
        GridBoxAlignment -> {"Columns" -> {{Center}}, "Rows" -> {{Center}}}, 
        AutoDelete -> False, 
        GridBoxItemSize -> {
         "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
        BaselinePosition -> {1, 1}]& ),
      InterpretationFunction->(RowBox[{"Labeled", "[", 
         RowBox[{#, ",", #2}], "]"}]& )], ",", 
     TemplateBox[{
      RowBox[{"\"Biomass Boiler\"", "\[Rule]", "\"Academic Building 2\""}],
       "\"heats\""},
      "Labeled",
      DisplayFunction->(GridBox[{{
          TagBox[
           ItemBox[
            PaneBox[
             TagBox[#, "SkipImageSizeLevel"], Alignment -> {Center, Baseline},
              BaselinePosition -> Baseline], DefaultBaseStyle -> "Labeled"], 
           "SkipImageSizeLevel"]}, {
          ItemBox[#2, DefaultBaseStyle -> "LabeledLabel"]}}, 
        GridBoxAlignment -> {"Columns" -> {{Center}}, "Rows" -> {{Center}}}, 
        AutoDelete -> False, 
        GridBoxItemSize -> {
         "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
        BaselinePosition -> {1, 1}]& ),
      InterpretationFunction->(RowBox[{"Labeled", "[", 
         RowBox[{#, ",", #2}], "]"}]& )], ",", 
     TemplateBox[{
      RowBox[{"\"Meter 1\"", "\[Rule]", "\"Transformer\""}],"\"meters\""},
      "Labeled",
      DisplayFunction->(GridBox[{{
          TagBox[
           ItemBox[
            PaneBox[
             TagBox[#, "SkipImageSizeLevel"], Alignment -> {Center, Baseline},
              BaselinePosition -> Baseline], DefaultBaseStyle -> "Labeled"], 
           "SkipImageSizeLevel"]}, {
          ItemBox[#2, DefaultBaseStyle -> "LabeledLabel"]}}, 
        GridBoxAlignment -> {"Columns" -> {{Center}}, "Rows" -> {{Center}}}, 
        AutoDelete -> False, 
        GridBoxItemSize -> {
         "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
        BaselinePosition -> {1, 1}]& ),
      InterpretationFunction->(RowBox[{"Labeled", "[", 
         RowBox[{#, ",", #2}], "]"}]& )]}], "}"}], ",", 
   RowBox[{"VertexCoordinates", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"\<\"Transformer\"\>", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0"}], "}"}]}], ",", 
      RowBox[{"\<\"Academic Building 1\"\>", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{"1", ",", "1"}], "}"}]}], ",", 
      RowBox[{"\<\"Academic Building 2\"\>", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{"1", ",", "2"}], "}"}]}], ",", 
      RowBox[{"\<\"Meter 1\"\>", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"-", "1"}], ",", "0"}], "}"}]}]}], "}"}]}], ",", 
   RowBox[{"VertexShape", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"\<\"Transformer\"\>", "\[Rule]", "transformer"}], ",", 
      RowBox[{"\<\"Academic Building 1\"\>", "\[Rule]", "academicBuilding"}], 
      ",", 
      RowBox[{"\<\"Academic Building 2\"\>", "\[Rule]", "academicBuilding"}], 
      ",", 
      RowBox[{"\<\"Meter 1\"\>", "\[Rule]", "meter"}]}], "}"}]}], ",", 
   RowBox[{"VertexLabels", "\[Rule]", 
    RowBox[{"Placed", "[", 
     RowBox[{"\<\"Name\"\>", ",", "Below"}], "]"}]}], ",", 
   RowBox[{"VertexSize", "\[Rule]", "0.5`"}]}], "]"}]], "Output",
 CellChangeTimes->{3.7884839727516184`*^9, 3.7884841542236195`*^9, 
  3.788484585159313*^9},
 CellLabel->"Out[3]=",ExpressionUUID->"387d5047-7619-42b8-be9f-db7d62b14a64"]
}, Open  ]],

Cell["\<\
There are three primary concepts that this application models.  Those are \
Campus Buildings, Points of Delivery, and Measured Quantities. \
\>", "Text",
 CellChangeTimes->{{3.780702701540004*^9, 3.7807028006030006`*^9}, {
  3.7807028390052805`*^9, 3.780702897918837*^9}, {3.7807029301694527`*^9, 
  3.780702989339476*^9}, {3.7807030345005045`*^9, 3.7807031500748105`*^9}, {
  3.780704253248144*^9, 3.7807042731731977`*^9}, {3.7807045264470663`*^9, 
  3.7807045317759733`*^9}},ExpressionUUID->"e7ebdc7b-bdf1-48d1-b88e-\
9a3ecf2b88ec"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{"importUserFunctionalGraph", "=", 
   RowBox[{"Graph", "[", 
    RowBox[{
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Labeled", "[", 
        RowBox[{
         RowBox[{
         "\"\<Point of Delivery\>\"", "\[Rule]", "\"\<Campus Buildings\>\""}],
          ",", "\"\<serves\>\""}], "]"}], ",", "\[IndentingNewLine]", 
       RowBox[{"Labeled", "[", 
        RowBox[{
         RowBox[{
         "\"\<Measured Quantity\>\"", "\[Rule]", 
          "\"\<Point of Delivery\>\""}], ",", "\"\<delivered to\>\""}], 
        "]"}]}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"VertexLabels", "\[Rule]", "\"\<Name\>\""}], ",", 
     RowBox[{"EdgeLabels", "\[Rule]", "True"}]}], "]"}]}]}]], "Input",
 CellChangeTimes->{{3.7843371485586786`*^9, 3.784337155112029*^9}, {
  3.784337282061895*^9, 3.784337298985095*^9}, {3.7843373340709286`*^9, 
  3.784337397933092*^9}, {3.784337430821959*^9, 3.7843374463734655`*^9}, {
  3.784338650301355*^9, 3.7843386537232685`*^9}},
 CellLabel->"In[3]:=",ExpressionUUID->"d95b8ca7-aaba-4ea6-931d-20fbcf06b381"],

Cell[BoxData[
 GraphicsBox[
  NamespaceBox["NetworkGraphics",
   DynamicModuleBox[{Typeset`graph = HoldComplete[
     Graph[{
      "Point of Delivery", "Campus Buildings", "Measured Quantity"}, {{{1, 
       2}, {3, 1}}, Null}, {
      EdgeLabels -> {
        True, DirectedEdge["Point of Delivery", "Campus Buildings"] -> 
         "serves", DirectedEdge["Measured Quantity", "Point of Delivery"] -> 
         "delivered to"}, VertexLabels -> {"Name"}}]]}, 
    TagBox[GraphicsGroupBox[{
       {Hue[0.6, 0.7, 0.5], Opacity[0.7], Arrowheads[
        Medium], {
         ArrowBox[{{1., 2.4492935982947064`*^-16}, {2., 0.}}, 
          0.02261146496815286], 
         InsetBox["\<\"serves\"\>", {1.5, 1.2246467991473532*^-16}, 
          ImageScaled[{0.5, 0.5}],
          BaseStyle->"Graphics"]}, {
         ArrowBox[{{0., 3.6739403974420594`*^-16}, {1., 
          2.4492935982947064`*^-16}}, 0.02261146496815286], 
         InsetBox["\<\"delivered to\"\>", {0.5, 3.0616169978683826*^-16}, 
          ImageScaled[{0.5, 0.5}],
          BaseStyle->"Graphics"]}}, 
       {Hue[0.6, 0.2, 0.8], EdgeForm[{GrayLevel[0], Opacity[
        0.7]}], {DiskBox[{1., 2.4492935982947064*^-16}, 0.02261146496815286], 
         InsetBox["\<\"Point of Delivery\"\>", 
          Offset[{2, 2}, {1.0226114649681528, 0.022611464968153108}], 
          ImageScaled[{0, 0}],
          BaseStyle->"Graphics"]}, {DiskBox[{2., 0.}, 0.02261146496815286], 
         InsetBox["\<\"Campus Buildings\"\>", 
          Offset[{2, 2}, {2.022611464968153, 0.02261146496815286}], 
          ImageScaled[{0, 0}],
          BaseStyle->"Graphics"]}, {
         DiskBox[{0., 3.6739403974420594*^-16}, 0.02261146496815286], 
         InsetBox["\<\"Measured Quantity\"\>", 
          Offset[{2, 2}, {0.02261146496815286, 0.02261146496815323}], 
          ImageScaled[{0, 0}],
          BaseStyle->"Graphics"]}}}],
     MouseAppearanceTag["NetworkGraphics"]],
    AllowKernelInitialization->False]],
  DefaultBaseStyle->{
   "NetworkGraphics", FrontEnd`GraphicsHighlightColor -> Hue[0.8, 1., 0.6]},
  FormatType->TraditionalForm,
  FrameTicks->None,
  ImageSize->{511., Automatic}]], "Output",
 CellChangeTimes->{3.7843374483104806`*^9, 3.784338366819537*^9, 
  3.7843386599960556`*^9},
 CellLabel->"Out[3]=",ExpressionUUID->"2f039ce7-335e-45d3-b845-c3eca8ebc433"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Campus Buildings", "Subsubsection",
 CellChangeTimes->{{3.78070427676073*^9, 
  3.7807042793401985`*^9}},ExpressionUUID->"523ead97-e4b6-4f02-98d7-\
4c1bc577904c"],

Cell["\<\
Campus Buildings will often have their own points of delivery for each \
commodity consumed, however on many campuses it is common for many buildings \
to share points of delivery, for example where an electric utility places a \
meter on a transformer that provides power to multiple buildings.  \
\>", "Text",
 CellChangeTimes->{{3.7807042876410275`*^9, 
  3.780704407702389*^9}},ExpressionUUID->"7d36259c-b4fd-4abf-a62f-\
9e2883d745e4"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Points of Delivery", "Subsubsection",
 CellChangeTimes->{{3.780703165235168*^9, 
  3.7807031718771534`*^9}},ExpressionUUID->"17b056ee-f5cd-4661-8a47-\
09d53a74f487"],

Cell["\<\
Points of Delivery, sometimes referred to Service Delivery Points, or Service \
Point Locations are the point at which a commodity is delivered from the  \
supplier to the  customer.  In the case of electricity supply, the Point of \
Delivery is typically the point at which the utility places a meter that \
measures electrical consumption by the customer.  In the case of fuel oil \
deliveries it would be the fill tube of the customer\[CloseCurlyQuote]s fuel \
tank.  In this case the measurement of the quantity delivered is done by a \
meter on the fuel oil truck, not by a meter installed at the customer\
\[CloseCurlyQuote]s facility.  Points of Delivery often supply a single \
building with an  commodity, although in many instances a point of delivery \
may supply many buildings, such as delivery of wood chips to a biomass boiler \
that heats many buildings on campus.  In some cases a Point of Delivery may \
not have any association with a building, such as metered street lights or \
water pumps.  It is for these reasons of multiple buildings being served by a \
single service delivery point, or a service delivery point having no building \
at all, that we require a concept distinct from campus buildings to associate \
measured quantities to.  \
\>", "Text",
 CellChangeTimes->{{3.7807031818430867`*^9, 3.780703721299073*^9}, {
  3.7807037579111032`*^9, 3.7807037631817994`*^9}, {3.7807044229438014`*^9, 
  3.780704476388129*^9}, {3.7843360788521647`*^9, 3.7843360854636726`*^9}, {
  3.784336136780439*^9, 3.7843361477851667`*^9}, {3.78433635273553*^9, 
  3.7843363770147295`*^9}, {3.7843366709215517`*^9, 3.7843367025807314`*^9}, {
  3.7843369672238655`*^9, 3.7843369925880547`*^9}, {3.7843370599374814`*^9, 
  3.7843370709179163`*^9}, {3.7843371167254567`*^9, 
  3.7843371287839084`*^9}},ExpressionUUID->"eb83807a-d2a5-467f-9e14-\
ee6627dd8e1c"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Measured Quantities", "Subsubsection",
 CellChangeTimes->{{3.780703810612239*^9, 
  3.78070381454782*^9}},ExpressionUUID->"b0c54f3d-3b3e-4239-9237-\
9f8d6f0f7ab7"],

Cell["\<\
There are a few flavors of measured quantities whose differences arise from \
different delivery and metering technologies.  In most cases a single \
quantity will be associated to a Point of Delivery, however electrical meters \
often measure multiple distinct units of measure, and often in two directions \
when a generator is installed behind the meter so that electricity is at times 

\
\>", "Text",
 CellChangeTimes->{{3.7807050168491178`*^9, 3.7807050289685016`*^9}, {
  3.78070512090032*^9, 3.780705282122394*^9}, {3.784338583827731*^9, 
  3.784338585082017*^9}, {3.7843387896062183`*^9, 3.7843388371480465`*^9}, {
  3.7843392920540047`*^9, 3.784339296223456*^9}, {3.784339349560765*^9, 
  3.7843393909275675`*^9}, {3.7843400240848923`*^9, 
  3.7843400472649355`*^9}},ExpressionUUID->"fc96df97-9030-4325-9212-\
38b3e2b19e6d"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Entering Master Data", "Section",
 CellChangeTimes->{{3.7808744590567026`*^9, 
  3.7808744633559976`*^9}},ExpressionUUID->"a9e89785-9666-4895-964c-\
6d8f4db04356"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"TextSentences", "[", 
   RowBox[{"WikipediaData", "[", "\"\<master data\>\"", "]"}], "]"}], "[", 
  RowBox[{"[", 
   RowBox[{";;", "5"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.780875312994232*^9, 3.780875326784379*^9}, {
  3.7808754201760244`*^9, 3.7808754408694854`*^9}, {3.7808755551796904`*^9, 
  3.780875573243741*^9}},
 CellLabel->"In[3]:=",ExpressionUUID->"40b50373-6e7f-4cf4-8ca8-72dc82c2213e"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"Master data represents the business objects that contain the \
most valuable, agreed upon information shared across an organization.\"\>", 
   ",", "\<\"It can cover relatively static reference data, transactional, \
unstructured, analytical, hierarchical and metadata.\"\>", 
   ",", "\<\"It is the primary focus of the information technology (IT) \
discipline of master data management (MDM).\"\>", 
   ",", "\<\"Master data is usually non-transactional in nature, but in some \
cases gray areas exist where transactional processes and operations may be \
considered master data by an organization.\"\>", 
   ",", "\<\"For example, master data may contain information about \
customers, products, employees, materials, suppliers, and vendors.\"\>"}], 
  "}"}]], "Output",
 CellChangeTimes->{3.7808753344337873`*^9, 3.780875453542935*^9, 
  3.7808755757592683`*^9},
 CellLabel->"Out[3]=",ExpressionUUID->"ba0f471a-9d35-4ef2-a263-9a62e53a4443"]
}, Open  ]],

Cell["\<\
Buildings and Points of Delivery are the  master data objects of interest to \
a campus energy management project.  By collecting and maintaining accurate \
master data you will be able to perform analyses that go far beyond what is \
possible with collecting energy consumption data alone.  For instance, if you \
have access to accurate information regarding the floor area of each building \
on campus, you will be able to calculate the energy intensity of each \
building.  If you include each building\[CloseCurlyQuote]s function, such as \
athletic facility, dormitory, administrative building you will be able to \
determine how much each function contributes to your \
school\[CloseCurlyQuote]s energy consumption.  
There are several possible methods of building a master data repository with \
the Wolfram Language.  This project is using the language\[CloseCurlyQuote]s \
EntityStore functionality.  If you wish, one can enter master data by brute \
force, and fully compose the code for each entry.  It is also possible to use \
the Language\[CloseCurlyQuote]s form building capabilities to construct a \
form to facilitate data entry.  \
\>", "Text",
 CellChangeTimes->{{3.7808756359160223`*^9, 3.7808756464040003`*^9}, {
  3.780875740377532*^9, 3.780875742887061*^9}, {3.780875872741271*^9, 
  3.7808758873650837`*^9}, {3.7808759211140337`*^9, 3.7808759498902016`*^9}, {
  3.780875987837768*^9, 3.7808762550843782`*^9}, {3.78087630336691*^9, 
  3.780876760331733*^9}},ExpressionUUID->"d188e3de-0ad4-4104-8aa4-\
e2f89cd778d6"]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1352, 829},
WindowMargins->{{-8, Automatic}, {Automatic, 0}},
FrontEndVersion->"12.0 for Microsoft Windows (64-bit) (April 11, 2019)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[583, 22, 250, 4, 67, "Chapter",ExpressionUUID->"e009d0d6-f6d9-41cc-9fad-c8a5be675b08"],
Cell[CellGroupData[{
Cell[858, 30, 207, 4, 53, "Subsection",ExpressionUUID->"9d4c3d46-3775-49c5-87e2-1c9d334b1040"],
Cell[1068, 36, 1385, 21, 122, "Text",ExpressionUUID->"8e495ca1-a3e6-4ef9-b1fb-8c1374ddffb9"]
}, Open  ]],
Cell[CellGroupData[{
Cell[2490, 62, 242, 4, 67, "Section",ExpressionUUID->"be52c3e1-a212-4943-af0e-b068bde4daaf"],
Cell[2735, 68, 476, 8, 56, "Text",ExpressionUUID->"4fa2f2f6-96d1-493b-97d8-6541d3a0b68b"],
Cell[CellGroupData[{
Cell[3236, 80, 341, 7, 28, "Input",ExpressionUUID->"f62ca71a-716b-4e70-9035-71130f058ded"],
Cell[3580, 89, 1108, 17, 147, "Output",ExpressionUUID->"fcd3e4b0-a803-4239-affe-2501ed039d34"]
}, Open  ]],
Cell[4703, 109, 669, 11, 56, "Text",ExpressionUUID->"b5a5a1ea-ebea-4df5-8f85-d749c98c6093"],
Cell[5375, 122, 373, 7, 34, "Text",ExpressionUUID->"79f1cb2b-ffab-474d-8f6e-bb34f6d3343e"],
Cell[5751, 131, 238, 5, 28, "Input",ExpressionUUID->"8985d1e9-58b2-46db-8384-d260ab45f983"],
Cell[5992, 138, 180, 4, 28, "Input",ExpressionUUID->"d8fa50a6-89ff-4fb6-8106-7dec39f468b1"],
Cell[6175, 144, 224, 4, 28, "Input",ExpressionUUID->"8c350f49-c0fe-4ede-98e3-3b7ae44d9752"],
Cell[CellGroupData[{
Cell[6424, 152, 2236, 43, 162, "Input",ExpressionUUID->"7e2a500c-a1f5-4446-99c0-045fcaff1f64"],
Cell[8663, 197, 2338, 45, 482, "Output",ExpressionUUID->"c2a73746-1e90-4daa-a523-07fbf06cf437"]
}, Open  ]],
Cell[CellGroupData[{
Cell[11038, 247, 1255, 31, 105, "Input",ExpressionUUID->"8ec60343-e66d-4752-96f4-ee303227d466"],
Cell[12296, 280, 5562, 130, 147, "Output",ExpressionUUID->"387d5047-7619-42b8-be9f-db7d62b14a64"]
}, Open  ]],
Cell[17873, 413, 544, 9, 34, "Text",ExpressionUUID->"e7ebdc7b-bdf1-48d1-b88e-9a3ecf2b88ec"],
Cell[CellGroupData[{
Cell[18442, 426, 1127, 24, 105, "Input",ExpressionUUID->"d95b8ca7-aaba-4ea6-931d-20fbcf06b381"],
Cell[19572, 452, 2324, 48, 50, "Output",ExpressionUUID->"2f039ce7-335e-45d3-b845-c3eca8ebc433"]
}, Open  ]],
Cell[CellGroupData[{
Cell[21933, 505, 168, 3, 44, "Subsubsection",ExpressionUUID->"523ead97-e4b6-4f02-98d7-4c1bc577904c"],
Cell[22104, 510, 449, 8, 56, "Text",ExpressionUUID->"7d36259c-b4fd-4abf-a62f-9e2883d745e4"]
}, Open  ]],
Cell[CellGroupData[{
Cell[22590, 523, 171, 3, 44, "Subsubsection",ExpressionUUID->"17b056ee-f5cd-4661-8a47-09d53a74f487"],
Cell[22764, 528, 1877, 27, 144, "Text",ExpressionUUID->"eb83807a-d2a5-467f-9e14-ee6627dd8e1c"]
}, Open  ]],
Cell[CellGroupData[{
Cell[24678, 560, 169, 3, 44, "Subsubsection",ExpressionUUID->"b0c54f3d-3b3e-4239-9237-9f8d6f0f7ab7"],
Cell[24850, 565, 844, 15, 100, "Text",ExpressionUUID->"fc96df97-9030-4325-9212-38b3e2b19e6d"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[25743, 586, 169, 3, 67, "Section",ExpressionUUID->"a9e89785-9666-4895-964c-6d8f4db04356"],
Cell[CellGroupData[{
Cell[25937, 593, 444, 9, 28, "Input",ExpressionUUID->"40b50373-6e7f-4cf4-8ca8-72dc82c2213e"],
Cell[26384, 604, 988, 16, 109, "Output",ExpressionUUID->"ba0f471a-9d35-4ef2-a263-9a62e53a4443"]
}, Open  ]],
Cell[27387, 623, 1549, 23, 144, "Text",ExpressionUUID->"d188e3de-0ad4-4104-8aa4-e2f89cd778d6"]
}, Open  ]]
}, Open  ]]
}
]
*)

